# ğŸ“‹ Sistema de Controle de Ponto e GestÃ£o de Remetentes - APAC

> **Projeto Final do Curso TÃ©cnico em InformÃ¡tica**  
> IFES Campus Cachoeiro de Itapemirim - ES

---

## ğŸ“ InformaÃ§Ãµes do Projeto

| InformaÃ§Ã£o| Detalhes |
|-----------|----------|
| **InstituiÃ§Ã£o** | IFES - Instituto Federal do EspÃ­rito Santo |
| **Campus** | Cachoeiro de Itapemirim - ES |
| **Curso** | TÃ©cnico em InformÃ¡tica |
| **Professor** | Ricardo Maroquio - ProgramaÃ§Ã£o |
| **Tipo de Projeto** | Trabalho Final / Capstone |
| **Objetivo** | ConclusÃ£o do Curso TÃ©cnico com AplicaÃ§Ã£o Full-Stack |
| **PÃºblico-Alvo** | APAC-Feminino e InstituiÃ§Ãµes PenitenciÃ¡rias |
| **Data de Desenvolvimento** | 2025 |

---

## ğŸ“– Sobre o Projeto

Este Ã© um **Sistema Web Completo de Controle de Ponto e GestÃ£o de Remetentes** desenvolvido como projeto final do curso tÃ©cnico em informÃ¡tica do IFES Campus de Cachoeiro de Itapemirim - ES, sob orientaÃ§Ã£o do professor **Ricardo Maroquio**, especialista em programaÃ§Ã£o.

O projeto aplica conceitos de **desenvolvimento full-stack** na prÃ¡tica, integrando tecnologias frontend e backend para criar uma soluÃ§Ã£o completa de gestÃ£o penitenciÃ¡ria.

Durante o desenvolvimento, aplicamos todos os conhecimentos adquiridos em aulas de programaÃ§Ã£o, especialmente em desenvolvimento web, banco de dados e boas prÃ¡ticas de engenharia de software.

---

## ğŸ¯ Objetivos Educacionais

- âœ… Aplicar conhecimentos de desenvolvimento full-stack
- âœ… Integrar banco de dados relacional com API REST
- âœ… Implementar autenticaÃ§Ã£o de usuÃ¡rios
- âœ… Gerar relatÃ³rios em PDF
- âœ… Criar interface responsiva e intuitiva
- âœ… Praticar boas prÃ¡ticas de engenharia de software
- âœ… Desenvolver soluÃ§Ã£o para problema real (gestÃ£o penitenciÃ¡ria)

---

## ğŸ—ï¸ Arquitetura do Projeto

### **Stack TecnolÃ³gico**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         CAMADA DE APRESENTAÃ‡ÃƒO          â”‚
â”‚  HTML5 | CSS3 | JavaScript | Bootstrap  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    CAMADA DE LÃ“GICA DE NEGÃ“CIO          â”‚
â”‚  FastAPI | Python | Jinja2 Templates    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    CAMADA DE DADOS E PERSISTÃŠNCIA       â”‚
â”‚  SQLite | SQLAlchemy | SQL Scripts      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **DependÃªncias Principais**

```txt
fastapi[standard]      # Framework web moderno e rÃ¡pido
uvicorn[standard]      # Servidor ASGI para Python
jinja2                 # Motor de templates HTML
```

---

## ğŸ“ Estrutura de DiretÃ³rios

```
Sistema-Carcerario-8/
â”œâ”€â”€ ğŸ“„ main.py                          # AplicaÃ§Ã£o principal FastAPI
â”œâ”€â”€ ğŸ“„ calculo_horas.py                 # LÃ³gica de cÃ¡lculo de dias remidos
â”œâ”€â”€ ğŸ“„ pdf.py                           # GeraÃ§Ã£o de relatÃ³rios PDF
â”œâ”€â”€ ğŸ“„ requirements.txt                 # DependÃªncias do projeto
â”‚
â”œâ”€â”€ ğŸ“ models/                          # Camada de modelos de dados
â”‚   â”œâ”€â”€ base.py                         # Modelo SQLAlchemy - UsuÃ¡rio
â”‚   â”œâ”€â”€ conectar_sql.py                 # ConfiguraÃ§Ã£o de conexÃ£o BD
â”‚   â”œâ”€â”€ encarregado.py                  # Dataclass do Encarregado
â”‚   â”œâ”€â”€ registro_ponto.py               # Dataclass do Registro de Ponto
â”‚   â”œâ”€â”€ remetente.py                    # Dataclass do Remetente
â”‚   â””â”€â”€ get_db.py                       # Dependency injection do BD
â”‚
â”œâ”€â”€ ğŸ“ repo/                            # Camada de repositÃ³rio (DAO)
â”‚   â”œâ”€â”€ encarregado_repo.py             # OperaÃ§Ãµes com Encarregados
â”‚   â”œâ”€â”€ registro_ponto_repo.py          # OperaÃ§Ãµes com Registros de Ponto
â”‚   â””â”€â”€ remetente_repo.py               # OperaÃ§Ãµes com Remetentes
â”‚
â”œâ”€â”€ ğŸ“ sql/                             # Scripts SQL
â”‚   â”œâ”€â”€ encarregado_sql.py              # Queries do Encarregado
â”‚   â”œâ”€â”€ registro_ponto_sql.py           # Queries de Registro de Ponto
â”‚   â””â”€â”€ remetente_sql.py                # Queries de Remetente
â”‚
â”œâ”€â”€ ğŸ“ data/                            # Camada de acesso a dados
â”‚   â”œâ”€â”€ database.py                     # ConexÃ£o SQLite
â”‚   â””â”€â”€ inserts_encarregado.sql         # Dados iniciais
â”‚
â”œâ”€â”€ ğŸ“ templates/                       # PÃ¡ginas HTML (Jinja2)
â”‚   â”œâ”€â”€ login.html                      # Tela de autenticaÃ§Ã£o
â”‚   â”œâ”€â”€ inicial.html                    # Dashboard inicial
â”‚   â”œâ”€â”€ ponto.html                      # Batimento de ponto
â”‚   â”œâ”€â”€ cadastro.html                   # Cadastro de remetentes
â”‚   â”œâ”€â”€ consulta.html                   # Consulta e ediÃ§Ã£o de dados
â”‚   â””â”€â”€ relatorio.html                  # GeraÃ§Ã£o de relatÃ³rios
â”‚
â”œâ”€â”€ ğŸ“ static/                          # Arquivos estÃ¡ticos
â”‚   â”œâ”€â”€ apac.png                        # Logo/Imagem APAC
â”‚   â””â”€â”€ pdfs/                           # RelatÃ³rios gerados
â”‚
â””â”€â”€ ğŸ“ .vscode/                         # ConfiguraÃ§Ãµes do VS Code
    â”œâ”€â”€ launch.json                     # ConfiguraÃ§Ã£o de debug
    â””â”€â”€ settings.json                   # ConfiguraÃ§Ãµes do projeto
```

---

## ğŸ”‘ Funcionalidades Principais

### **1. AutenticaÃ§Ã£o de UsuÃ¡rios** 
**LocalizaÃ§Ã£o:** `main.py` - Rotas `/` e `/formlogin`

- âœ… Login com validaÃ§Ã£o de credenciais
- âœ… VerificaÃ§Ã£o em banco de dados
- âœ… Redirecionamento condicional
- âœ… SessÃµes seguras

**UsuÃ¡rios de Teste:**
| UsuÃ¡rio | Senha |
|---------|-------|
| luizeduardo | 123456 |
| igorgomes | 654321 |

### **2. Controle de Ponto** â°
**LocalizaÃ§Ã£o:** `templates/ponto.html` | `main.py` - Rota `/ponto`

Funcionalidades:
- âœ… Registrar entrada/saÃ­da
- âœ… Intervalo de almoÃ§o
- âœ… ValidaÃ§Ã£o de sequÃªncia correta
- âœ… CÃ¡lculo automÃ¡tico de dias remidos
- âœ… VisualizaÃ§Ã£o em tabela interativa

**LÃ³gica de CÃ¡lculo:** `calculo_horas.py`

Formula para dias remidos:
```
Dias Remidos = [(entrada_intervalo - entrada) + (saÃ­da - saÃ­da_intervalo)] / 8 horas
```

### **3. GestÃ£o de Remetentes** ğŸ‘¥
**LocalizaÃ§Ã£o:** `templates/cadastro.html` | `templates/consulta.html`

OperaÃ§Ãµes CRUD completas:
- âœ… **Criar:** Cadastro de novos remetentes (Rota: `/formcadastro`)
- âœ… **Ler:** Listagem e consulta (Rota: `/consulta`)
- âœ… **Atualizar:** EdiÃ§Ã£o inline (Rota: `/atualizar`)
- âœ… **Deletar:** ExclusÃ£o por ID (Rota: `/excluir`)

**Campos armazenados:**
- Nome do remetente
- Data de nascimento
- Artigo penal
- Tempo de sentenÃ§a
- NÃºmero da cela
- Comportamento

### **4. GeraÃ§Ã£o de RelatÃ³rios PDF** ğŸ“„
**LocalizaÃ§Ã£o:** `pdf.py` | `templates/relatorio.html`

Funcionalidades:
- âœ… ConversÃ£o de registros de ponto em PDF
- âœ… Armazenamento em `static/pdfs/`
- âœ… Download direto via navegador
- âœ… Limpeza de relatÃ³rios antigos

---

## ğŸ“Š Modelos de Dados

### **Remetente** (models/remetente.py)
```python
@dataclass
class Remetente:
    id: int
    remetente: str
    data_nascimento: date
    artigo: int
    tempo_sentenca: str
    cela: str
    comportamento: str
```

### **Registro de Ponto** (models/registro_ponto.py)
```python
@dataclass
class RegistroPonto:
    id: int
    data: date
    remetente: str
    entrada: time
    entrada_intervalo: time
    saida_intervalo: time
    saida: time
    dias_remidos: float
```

### **Encarregado** (models/encarregado.py)
```python
@dataclass
class Encarregado:
    id: int
    usuario: str
    senha: str
```

---

## ğŸ—„ï¸ Banco de Dados

**Sistema:** SQLite (`dados.db`)

### **Tabelas**

#### **Tabela: Remetentes**
```sql
CREATE TABLE Remetentes (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    remetente TEXT NOT NULL,
    data_nascimento DATE NOT NULL,
    crime TEXT NOT NULL,
    tempo_sentenca TEXT NOT NULL,
    cela TEXT NOT NULL,
    comportamento TEXT NOT NULL
);
```

#### **Tabela: registro_ponto**
```sql
CREATE TABLE registro_ponto (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    data DATE NOT NULL,
    remetente TEXT NOT NULL,
    entrada TIME NOT NULL,
    entrada_intervalo TIME NOT NULL,
    saida_intervalo TIME NOT NULL,
    saida TIME NOT NULL,
    dias_remidos REAL NOT NULL
);
```

#### **Tabela: Encarregado**
```sql
CREATE TABLE Encarregado (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    usuario TEXT NOT NULL,
    senha TEXT NOT NULL
);
```

---

## ğŸŒ Rotas da API

| MÃ©todo | Rota | DescriÃ§Ã£o |
|--------|------|-----------|
| GET | `/` | PÃ¡gina de login |
| POST | `/formlogin` | AutenticaÃ§Ã£o de usuÃ¡rio |
| GET | `/inicial` | Dashboard inicial |
| GET | `/ponto` | Tela de controle de ponto |
| POST | `/salvar_todos` | Salvar registros de ponto |
| POST | `/salvarpdf` | Gerar PDF de relatÃ³rios |
| GET | `/cadastro` | FormulÃ¡rio de cadastro de remetente |
| POST | `/formcadastro` | Salvar novo remetente |
| GET | `/relatorio` | Listar relatÃ³rios PDF gerados |
| POST | `/limpar_pdfs` | Deletar relatÃ³rios PDF |
| GET | `/consulta` | Listar todos os remetentes |
| POST | `/atualizar` | Atualizar dados do remetente |
| POST | `/excluir` | Deletar remetente |

---

## ğŸ¨ Interface do UsuÃ¡rio

### **Design Responsivo**
- Bootstrap 5.3.6
- CSS customizado
- Navbar fixa com menu hamburguer
- Sidebar colapsÃ­vel
- Tabelas responsivas
- CompatÃ­vel com desktop e mobile

### **Funcionalidades JavaScript**
- ValidaÃ§Ã£o de formulÃ¡rios
- Toggle sidebar
- EdiÃ§Ã£o inline de tabelas
- FormataÃ§Ã£o de dados JSON
- GeraÃ§Ã£o dinÃ¢mica de PDFs

---

## ğŸ”’ SeguranÃ§a

âš ï¸ **Notas de SeguranÃ§a Importantes:**

- Usar hash bcrypt para senhas em produÃ§Ã£o
- Implementar HTTPS/TLS
- Adicionar CORS (Cross-Origin Resource Sharing)
- ValidaÃ§Ã£o e sanitizaÃ§Ã£o de inputs
- Rate limiting na API
- Implementar tokens JWT
- Adicionar autenticaÃ§Ã£o multi-fator

---

## ğŸš€ Como Executar

### **PrÃ©-requisitos**
- Python 3.8 ou superior
- pip (gerenciador de pacotes Python)
- Git (opcional)

### **InstalaÃ§Ã£o**

```bash
# 1. Clonar ou extrair o projeto
cd Sistema-Carcerario-8

# 2. Criar ambiente virtual (recomendado)
python -m venv venv

# 3. Ativar ambiente virtual
# Windows
venv\Scripts\activate

# Linux/Mac
source venv/bin/activate

# 4. Instalar dependÃªncias
pip install -r requirements.txt
```

### **ExecuÃ§Ã£o**

```bash
# Iniciar servidor de desenvolvimento
python main.py

# Ou manualmente com uvicorn
uvicorn main:app --reload --host 127.0.0.1 --port 8000
```

**Acesso:** `http://127.0.0.1:8000`

### **Parar o Servidor**
```
Pressione Ctrl + C no terminal
```

---

## ğŸ“ Guia de Uso

### **1. Fazer Login**
- Acesse `http://127.0.0.1:8000`
- Use credenciais de teste (ver tabela acima)
- Clique em "Entrar"

### **2. Batimento de Ponto**
- Acesse "Ponto" no menu
- Selecione o remetente
- Registre: Entrada â†’ SaÃ­da Intervalo â†’ Entrada Intervalo â†’ SaÃ­da
- Os dias remidos serÃ£o calculados automaticamente
- Clique em "Salvar" para persistir dados

### **3. Cadastrar Remetente**
- Acesse "Cadastro" no menu
- Preencha todos os campos
- Clique em "Cadastrar"

### **4. Consultar/Editar Remetentes**
- Acesse "Consulta" no menu
- Edite os dados inline
- Clique em "Excluir" para remover

### **5. Gerar RelatÃ³rio PDF**
- Acesse "RelatÃ³rio" no menu
- Clique em "Gerar PDF"
- Download serÃ¡ iniciado automaticamente

---

## ğŸ’¼ Potencial Comercial

Este sistema foi desenvolvido com o objetivo de oferecer uma soluÃ§Ã£o robusta para a **APAC-Feminino** e outras instituiÃ§Ãµes penitenciÃ¡rias.

### **BenefÃ­cios para APAC e InstituiÃ§Ãµes PenitenciÃ¡rias:**

âœ… AutomaÃ§Ã£o do controle de ponto  
âœ… Rastreamento automÃ¡tico de dias remidos  
âœ… RelatÃ³rios gerados em PDF  
âœ… ReduÃ§Ã£o de paperwork  
âœ… Interface intuitiva e de fÃ¡cil uso  
âœ… Escalabilidade para mÃºltiplas unidades  
âœ… ReduÃ§Ã£o de erros de registro manual  
âœ… Conformidade com legislaÃ§Ã£o penitenciÃ¡ria  

### **Oportunidades de MonetizaÃ§Ã£o:**

- ğŸ’° Venda de licenÃ§as por instituiÃ§Ã£o
- ğŸ’° Suporte e manutenÃ§Ã£o contÃ­nua
- ğŸ’° CustomizaÃ§Ãµes especÃ­ficas conforme necessidade
- ğŸ’° Treinamento de operadores
- ğŸ’° Hosting em nuvem
- ğŸ’° MÃ³dulos adicionais (biometria, seguranÃ§a, integraÃ§Ã£o com sistemas externos)
- ğŸ’° Consultoria em processo de implementaÃ§Ã£o

---

## ğŸ“š Tecnologias Utilizadas

| Camada | Tecnologia |
|--------|-----------|
| **Frontend** | HTML5, CSS3, JavaScript, Bootstrap 5.3.6 |
| **Backend** | Python 3, FastAPI, Jinja2 |
| **Database** | SQLite, SQLAlchemy |
| **Server** | Uvicorn (ASGI) |
| **IDE** | Visual Studio Code |

---

## ğŸ¤ Contribuidores

- **Desenvolvimento:** Luiz Eduardo Lima Balbino,Gabriel Biancardi e Igor Gomes Menegazzi
- **OrientaÃ§Ã£o:** Prof. Ricardo Maroquio
- **InstituiÃ§Ã£o:** IFES Campus Cachoeiro de Itapemirim - ES

---

## ğŸ“„ LicenÃ§a

Este projeto foi desenvolvido para fins educacionais e comerciais. 

Para mais informaÃ§Ãµes sobre licenÃ§a e uso comercial, entre em contato com a instituiÃ§Ã£o.

---

## ğŸ“ Contato e Suporte

Para dÃºvidas, sugestÃµes ou interesse em implementaÃ§Ã£o:

- **Professor:** Ricardo Maroquio
- **InstituiÃ§Ã£o:** IFES Campus Cachoeiro de Itapemirim
- **Estado:** EspÃ­rito Santo, Brasil

---

## ğŸ”„ VersÃ£o

**VersÃ£o:** 1.0.0  
**Data:** Novembro de 2025  
**Status:** Projeto Final - ConcluÃ­do

---

## âœ¨ ConclusÃ£o

Este projeto demonstra a aplicaÃ§Ã£o prÃ¡tica de conceitos de engenharia de software e desenvolvimento full-stack no contexto real de gestÃ£o penitenciÃ¡ria, culminando em uma soluÃ§Ã£o funcional, escalÃ¡vel e pronta para implementaÃ§Ã£o em ambientes corporativos.

**Desenvolvido como ferramenta educacional e profissional para o contexto do sistema penitenciÃ¡rio brasileiro, especialmente para a APAC-Feminino.**

---

*Projeto Final - Curso TÃ©cnico em InformÃ¡tica - IFES Campus Cachoeiro de Itapemirim - ES* ğŸ“